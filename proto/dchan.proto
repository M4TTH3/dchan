syntax = "proto3";

package dchan;

option go_package = "github.com/m4tth3/dchan/proto";

// ReceiveRequest contains Gob-encoded data to be decoded by the server
message ReceiveRequest {
  // Data contains the Gob-encoded struct
  bytes data = 1;
  string namespace = 2;
}

// ReceiveResponse acknowledges receipt of the data
// If the server is no longer receiving, the received field will be false.
message ReceiveResponse {
  bool received = 1;
}

// DChanService provides RPC methods for distributed channel operations
service DChanService {
  // Receive accepts Gob-encoded data for the server to decode
  rpc Receive(ReceiveRequest) returns (ReceiveResponse);
}

